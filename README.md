# Дизайн социальной сети для курса по [System Design](https://balun.courses/courses/system_design)

## Описание
Социальная сеть, разрабатываемая специально для путешественников из стран СНГ. Платформа позволяет пользователям делиться впечатлениями от поездок, находить вдохновение, открывать новые локации и взаимодействовать с сообществом единомышленников.

Бизнес-модель предполагает активное продвижение через рекламу, что обеспечит линейный рост аудитории. Через 12 месяцев ожидается 10 000 000 уникальных пользователей в день, с дальнейшим ростом.

## Функциональные требования

1. Публикация постов:
    - текстовое описание 
    - возможность прикрепить фото (до 10 к посу)
    - возможность привязки к геолокации

2. Оценка и комментарии:
    - оценка по пятибалльный шкале
    - возможность оставить комментарий к посту

3. Подписки:
    - подписка на других пользователей
    - отписка от пользователя

4. Поиск популярных мест:
    - поиск локаций по популярности

5. Ленты новостей (формирование в обратном порядке, т.е. сначала идут новые посты): 
    - персональная лента, посты всей пользователей, на которых подписан 
    - лента конкретного пользователя
    - отображение всех постов, привязанных к выбранной локации

## Нефункциональные требования
- 10_000_000 уникальныз пользователй
- Пользователь загружает в среднем 1 пост + 6 фотографий в неделю
- Пользователь в среднем оставляет по 3 комментария за день
- Пользователь будет просматривать ленту в среднем 3 раза за день
- Размер фотографии 200 КБ (сжимаем при загрузке)
- Максимальный размер поста 2000 символов
- Размер комментария 500 символов (без фото)
- Пользователи только из стран СНГ
- Сезонность. Активность пользователей увеличивается в 3 раза в период с мая по сентябрь
- Данные храним всегда
- Создание поста <= 1 сек
- Загрузка ленты (первых 20 записей) <= 2 сек
- Время реакции на оценку <= 500 мс
- Доступность 99.95


## Расчет нагрузки

#### RPS
- на публикацию поста: 10_000_000 / 7 / 86400 = 17 RPS
- на комментарии: 10_000_000 * 3 / 86400 = 348 RPS
- на просмотр ленты: 10_000_000 * 3 * 20 / 86400 = 10417 RPS

#### Трафик
- на публикацию поста: 17 * 2 КБ + 17*6*200 КБ + 17*0.1 КБ метоинформация = 30636 КБ = 30 МБ 
- на публикацию комментария: 348*0.5 КБ = 174 КБ = 0.2 МБ
- на просмотр поста = 10417 * (2 КБ + 0,1 КБ метоинформация) = 22 МБ
- на просмотр фото: 10417 * 6*200 КБ = 12 ГБ
